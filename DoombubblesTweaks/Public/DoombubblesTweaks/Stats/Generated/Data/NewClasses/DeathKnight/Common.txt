new entry "Shout_SpiritGuardians_Necrotic"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SpiritGuardians_Necrotic"
data "Icon" "Spell_Conjuration_SpiritGuardians_Necrotic"

new entry "SPIRIT_GUARDIANS_NECROTIC_AURA"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_NECROTIC_AURA"
data "Icon" "Spell_Conjuration_SpiritGuardians_Necrotic"

new entry "Shout_SpiritGuardians_DK"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SpiritGuardians_Necrotic"
data "SpellContainerID" ""

{{ range $lvl := list 4 5 6 }}
new entry "Shout_SpiritGuardians_DK_{{$lvl}}"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SpiritGuardians_Necrotic_{{$lvl}}"
data "SpellContainerID" ""
data "RootSpellID" "Shout_SpiritGuardians_DK"
{{ end }}

new entry "Shout_FireShield_DK"
type "SpellData"
data "SpellType" "Shout"
using "Shout_FireShield_Chill"
data "SpellContainerID" ""

{{ range $lvl := list 4 5 6 }}
new entry "Shout_FireShield_DK_{{$lvl}}"
type "SpellData"
data "SpellType" "Shout"
using "Shout_FireShield_Chill_{{$lvl}}"
data "SpellContainerID" ""
data "RootSpellID" "Shout_FireShield_DK"
{{ end }}

new entry "RuneCasting"
type "PassiveData"
data "DisplayName" "ha0bc63c4g7f19g4cd2gbfe2g5ac7a3c167a1"
data "Description" "h257de8efg1862g487dgbfd3gd6d00997e5d2"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnStatusApplied"
data "Conditions" "StatusId('ALCH_POTION_REST_SLEEP_LESSER_RESTORATION') or StatusId('ALCH_POTION_REST_SLEEP_GREATER_RESTORATION')"
data "StatsFunctors" "RestoreResource(FrostRune,100%,0);RestoreResource(BloodRune,100%,0);RestoreResource(UnholyRune,100%,0);"


new entry "RuneCasting_Technical"
type "PassiveData"
data "DisplayName" "ha0bc63c4g7f19g4cd2gbfe2g5ac7a3c167a1"
data "Description" "h257de8efg1862g487dgbfd3gd6d00997e5d2"
data "Properties" "IsHidden"
data "BoostContext" "OnCreate;OnCast;OnStatusApplied;OnStatusRemoved;OnShortRest;OnLongRest"
data "Boosts" "
{{- range $i := list 1 2 -}}
{{- range $comboRune, $runes := $.Common.RuneCombos -}}
IF({{- range $j, $rune := $runes -}}
{{if not (eq $j 0) }} or {{end}}HasActionResource('{{$rune}}',{{$i}},0,false,false,context.Source)
{{- end -}}):ActionResource({{$comboRune}},1,0);
{{- end -}}
{{- end -}}
"

new entry "Lichborne"
type "PassiveData"
data "DisplayName" "h7ced0382gcf9ag4cb9ga117geaa13d0bcabd"
data "Description" "hd2638eddg73ccg4effgbb1ag62cd837b48cb"
data "Icon" "PassiveFeature_DeathKnight_Lichborne"
data "Properties" "Highlighted"
data "Boosts" "Tag(UNDEAD);StatusImmunity('SG_Poisoned')"


new entry "Shout_RuneTap"
type "SpellData"
data "SpellType" "Shout"
data "DisplayName" "h1e0c9759gd53dg43fbg9f9agd2e3b09a23d0"
data "Description" "hd1e4ba78g33deg446cg9262g11118d6283cd"
data "TargetConditions" "Self()"
data "Icon" "Action_DeathKnight_RuneTap"
data "ContainerSpells" "Shout_RuneTap_BloodFromFrost;Shout_RuneTap_BloodFromUnholy;Shout_RuneTap_FrostFromBlood;Shout_RuneTap_FrostFromUnholy;Shout_RuneTap_UnholyFromBlood;Shout_RuneTap_UnholyFromFrost"
data "CastSound" "Spell_Cast_Healing_FalseLife_L1to3"
data "TargetSound" "Spell_Impact_Healing_FalseLife_L1to3"
data "CastTextEvent" "Cast"
data "SpellAnimation" "414bbf02-2918-4f01-83fb-1ddc7a588d88,,;,,;4156d364-d2c0-4a01-908c-3552f78f434d,,;6f0a29b6-0ae8-4ebf-a1e4-8069c4a6ad16,,;0c5dcc83-fa78-41da-b6a5-440b5ea30936,,;,,;bea988a0-2ec5-40d8-a67e-ffbd7454bc53,,;,,;,,"
data "VerbalIntent" "Utility"
data "SpellStyleGroup" "Class_Intent"
data "SpellFlags" "HasSomaticComponent;IsLinkedSpellContainer"
data "HitAnimationType" "MagicalNonDamage"
data "PrepareEffect" "1162f3ba-ed65-4cd0-9e1f-5882414c0097"
data "CastEffect" "fb2cd1f1-3fb7-4efc-87cc-61f08868f567"
data "UseCosts" "BonusActionPoint:1"

new entry "Shout_RuneTap_Child"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap"
data "SpellContainerID" "Shout_RuneTap"
data "ContainerSpells" ""
data "SpellFlags" "HasSomaticComponent"

new entry "RUNE_TAP"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h7aeca00egfde6g497dgb321g8886905bf704"
data "Description" "hd1e4ba78g33deg446cg9262g11118d6283cd"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "StatusGroups" "SG_RemoveOnRespec"
data "RemoveEvents" "OnStatusApplied"
data "RemoveConditions" "StatusId('SHORT_REST') or StatusId('ALCH_POTION_REST_SLEEP_LESSER_RESTORATION') or StatusId('ALCH_POTION_REST_SLEEP_GREATER_RESTORATION')"

new entry "Shout_RuneTap_Blood"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Child"
data "DisplayName" "h7aeca00egfde6g497dgb321g8886905bf704"
data "Description" "ha1981829g37dfg44fag99c6g763bdabd9f34"
data "Icon" "Action_DeathKnight_RuneTap_Blood"
data "SpellProperties" "ApplyStatus(SELF, BLOOD_RUNE, 100, -1)"

new entry "BLOOD_RUNE"
type "StatusData"
data "StatusType" "BOOST"
using "RUNE_TAP"
data "Boosts" "ActionResource(BloodRune,1,0)"

new entry "Shout_RuneTap_BloodFromFrost"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Blood"
data "UseCosts" "BonusActionPoint:1;FrostRune:2"

new entry "Shout_RuneTap_BloodFromUnholy"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Blood"
data "UseCosts" "BonusActionPoint:1;UnholyRune:2"

new entry "Shout_RuneTap_Frost"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Child"
data "DisplayName" "h52f72cc4gbce9g44feg9deag5fb9b647faa9"
data "Description" "hc0a60dbcge472g4760g95c2g4c161c68b0dd"
data "Icon" "Action_DeathKnight_RuneTap_Frost"
data "SpellProperties" "ApplyStatus(SELF, FROST_RUNE, 100, -1)"

new entry "FROST_RUNE"
type "StatusData"
data "StatusType" "BOOST"
using "RUNE_TAP"
data "Boosts" "ActionResource(FrostRune,1,0)"

new entry "Shout_RuneTap_FrostFromBlood"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Frost"
data "UseCosts" "BonusActionPoint:1;BloodRune:2"

new entry "Shout_RuneTap_FrostFromUnholy"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Frost"
data "UseCosts" "BonusActionPoint:1;UnholyRune:2"

new entry "Shout_RuneTap_Unholy"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Child"
data "DisplayName" "hdc14d9dag0a3fg459bga1cegdbfd36137cef"
data "Description" "h7306456ag4e46g4f71g828ag33d178c4f852"
data "Icon" "Action_DeathKnight_RuneTap_Unholy"
data "SpellProperties" "ApplyStatus(SELF, UNHOLY_RUNE, 100, -1)"

new entry "UNHOLY_RUNE"
type "StatusData"
data "StatusType" "BOOST"
using "RUNE_TAP"
data "Boosts" "ActionResource(UnholyRune,1,0)"

new entry "Shout_RuneTap_UnholyFromBlood"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Unholy"
data "UseCosts" "BonusActionPoint:1;BloodRune:2"

new entry "Shout_RuneTap_UnholyFromFrost"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Unholy"
data "UseCosts" "BonusActionPoint:1;FrostRune:2"

new entry "Runeforging"
type "PassiveData"
data "DisplayName" "h0442915fg4c13g4097g9e3eg4ab948ebb081"
data "Description" "h1dcb24acg6d03g4a45gbe65g9689080eb3e3"
data "Properties" "Highlighted" 
data "Icon" "Action_DeathKnight_Runeforging"
data "Boosts" "UnlockSpell(Shout_Runeforging)"

new entry "Shout_Runeforging"
type "SpellData"
data "SpellType" "Shout"
data "ContainerSpells" "Shout_Runeforging_Razorice;Shout_Runeforging_FallenCrusader;Shout_Runeforging_StoneskinGargoyle"
data "TargetConditions" "Self()"
data "Icon" "Action_DeathKnight_Runeforging"
data "DisplayName" "h0442915fg4c13g4097g9e3eg4ab948ebb081"
data "Description" "h70266650g86afg46e5gb212g3ce5e13690a2"
data "ExtraDescription" "ha1bbf1f9g9007g4e3egb11eg12b7d78976d5"
data "CastSound" "Action_Cast_BindPactWeapon"
data "CastTextEvent" "Cast"
data "UseCosts" "BonusActionPoint:1"
data "SpellAnimation" "8b8bb757-21ce-4e02-a2f3-97d55cf2f90b,,;,,;35b644cf-5c13-4407-9dc1-23bf4309216e,,;823e3ddf-c670-41ef-b7b4-9f4a4e38300b,,;7bb52cd4-0b1c-4926-9165-fa92b75876a3,,;,,;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "VerbalIntent" "Utility"
data "SpellAnimationIntentType" "Aggressive"
data "Requirements" "!Combat"
data "RequirementConditions" "not Unarmed()"
data "CastEffect" "fc23a5a6-f05b-40c3-8e0f-99377cfb04cc"
data "Sheathing" "Melee"
data "SpellFlags" "IsLinkedSpellContainer"

new entry "RUNE"
type "StatusData"
data "StatusType" "BOOST"
data "ExtraDescription" "ha1bbf1f9g9007g4e3egb11eg12b7d78976d5"
data "StackId" "RUNE"
data "RemoveConditions" "not HasPassive('Runeforging', GetOwner(context.Source))"
data "RemoveEvents" "OnTurn;OnDamage;OnAttack"
data "StatusPropertyFlags" "IgnoreResting"
data "StatusGroups" "SG_RemoveOnRespec"

new entry "Shout_Runeforging_Razorice"
type "SpellData"
data "SpellType" "Shout"
using "Shout_Runeforging"
data "SpellContainerID" "Shout_Runeforging"
data "ContainerSpells" ""
data "SpellFlags" ""
data "SpellProperties" "ApplyEquipmentStatus(MainHand,RUNE_RAZORICE,100,-1);ApplyEquipmentStatus(OffHand,RUNE_RAZORICE,100,-1)"
data "DisplayName" "h14f4f779g2c06g457bg9f3ag0abbf171d402"
data "Description" "ha7dc3e14gc3b1g47c7gb454g5a2ca7ff2988"
data "DescriptionParams" "DealDamage(1,Cold)"
data "Icon" "Action_DeathKnight_Razorice"
data "TooltipStatusApply" "ApplyStatus(RUNE_RAZORICE,100, -1)"
data "PrepareEffect" "ee97e6e4-90a1-4181-b7fa-f6fe8b2af2d0"

new entry "RUNE_RAZORICE"
type "StatusData"
data "StatusType" "BOOST"
using "RUNE"
data "DisplayName" "hc489a2dag1586g424bgb6d7gf428a1f986f2"
data "Description" "h1850d71fg3639g468agb007g649e6200d3ff"
data "DescriptionParams" "DealDamage(1,Cold)"
data "Icon" "Action_DeathKnight_Razorice"
data "Boosts" "WeaponDamage(1, Cold)"

new entry "Shout_Runeforging_FallenCrusader"
type "SpellData"
data "SpellType" "Shout"
using "Shout_Runeforging"
data "SpellContainerID" "Shout_Runeforging"
data "ContainerSpells" ""
data "SpellFlags" ""
data "SpellProperties" "ApplyEquipmentStatus(MainHand,RUNE_FALLEN_CRUSADER,100,-1);ApplyEquipmentStatus(OffHand,RUNE_FALLEN_CRUSADER,100,-1)"
data "DisplayName" "hc1257d3ag3be8g4794ga1deg7acefdb1f8d1"
data "Description" "hf14f6741g6c07g4322ga0edg5bb580209a8b"
data "DescriptionParams" "RegainHitPoints(1)"
data "Icon" "Action_DeathKnight_FallenCrusader"
data "TooltipStatusApply" "ApplyStatus(RUNE_FALLEN_CRUSADER,100, -1)"
data "PrepareEffect" "c218f05b-1e12-4298-beff-e4d33a5fa5a5"

new entry "RUNE_FALLEN_CRUSADER"
type "StatusData"
data "StatusType" "BOOST"
using "RUNE"
data "DisplayName" "hbbbdcf56g644bg4b71ga4ceg0ad4d4666afb"
data "Description" "hcb4954a7g43cbg486egb6bfg8ac17fbac347"
data "DescriptionParams" "RegainHitPoints(1)"
data "Icon" "Action_DeathKnight_FallenCrusader"
data "Passives" "FallenCrusader"

new entry "FallenCrusader"
type "PassiveData"
data "DisplayName" "hbbbdcf56g644bg4b71ga4ceg0ad4d4666afb"
data "Description" "hcb4954a7g43cbg486egb6bfg8ac17fbac347"
data "DescriptionParams" "RegainHitPoints(1)"
data "Properties" "Hidden;OncePerAttack"
data "Icon" "Action_DeathKnight_FallenCrusader"
data "StatsFunctorContext" "OnDamage"
data "Boosts" "RollBonus(SavingThrow,1)"
data "Conditions" "AttackedWithPassiveSourceWeapon() and Combat()"
data "StatsFunctors" "RegainHitPoints(SELF, 1)"

new entry "Shout_Runeforging_StoneskinGargoyle"
type "SpellData"
data "SpellType" "Shout"
using "Shout_Runeforging"
data "SpellContainerID" "Shout_Runeforging"
data "ContainerSpells" ""
data "SpellFlags" ""
data "SpellProperties" "ApplyEquipmentStatus(MainHand,RUNE_STONESKIN_GARGOYLE,100,-1)"
data "DisplayName" "hf6237d90gdec1g47c1g9effgb79e367e25ff"
data "Description" "h2bd24ad6gf5c5g4ecag8e1cgf4e281da8d22"
data "Icon" "Action_DeathKnight_Stoneskin_Gargoyle"
data "TooltipStatusApply" "ApplyStatus(RUNE_STONESKIN_GARGOYLE,100, -1)"
data "PrepareEffect" "33302a46-4a12-41dd-8845-6b7314d50022"

new entry "RUNE_STONESKIN_GARGOYLE"
type "StatusData"
data "StatusType" "BOOST"
using "RUNE"
data "DisplayName" "hb34442begf6bag46fcg9486g0ddde4857176"
data "Description" "h42543d5fg6c48g41c8g8d87g554785736b58"
data "Icon" "Action_DeathKnight_Stoneskin_Gargoyle"
// data "Passives" "StoneskinGargoyle"

new entry "StoneskinGargoyle"
type "PassiveData"
data "DisplayName" "hb34442begf6bag46fcg9486g0ddde4857176"
data "Description" "h42543d5fg6c48g41c8g8d87g554785736b58"
data "Icon" "Action_DeathKnight_Stoneskin_Gargoyle"
data "Properties" "Hidden"
data "Boosts" "IF(HasStatus('RUNE_STONESKIN_GARGOYLE', GetActiveWeapon(context.Source, true))):AC(1)"


new entry "RuneDie"
type "PassiveData"
data "DisplayName" "hf9f56ac2g31b9g44a8ga485gdf09d0a9d948"
data "Description" "hb3be30f8g049bg4b7ega251g3310cc48eada"
data "Icon" "PassiveFeature_DeathKnight_RuneDie"

new entry "RuneDieD6"
type "PassiveData"
using "RuneDie"
data "DescriptionParams" "1d6"

new entry "RuneDieD8"
type "PassiveData"
using "RuneDie"
data "DescriptionParams" "1d8"

new entry "RuneDieD10"
type "PassiveData"
using "RuneDie"
data "DescriptionParams" "1d10"