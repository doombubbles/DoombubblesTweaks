new entry "DraconicAncestry_Ruby"
type "PassiveData"
data "DisplayName" "h1681b977g89a9g4805ga1ddg0c028ee7111b;1"
data "Description" "hc4bb88e2gf06fg4025gbb1cgfb992c138396;1"
data "Icon" "PassiveFeature_PotentCantrip"
data "Properties" "Highlighted"
data "Boosts" "UnlockSpell(Projectile_MagicMissile,AddChildren,d136c5d9-0ff0-43da-acce-a74a07f8d6bf,,Charisma)"

new entry "DraconicAncestry_Diamond"
type "PassiveData"
data "DisplayName" "h56cd94e0gbe3cg4621g9e18g7b296485d9f5;1"
data "Description" "h492a7b7dg19e8g400dg9b85g16a2e3f8e683;1"
data "Icon" "PassiveFeature_DraconicAncestry_White"
data "Properties" "Highlighted"
data "Boosts" "UnlockSpell(Projectile_GuidingBolt,AddChildren,d136c5d9-0ff0-43da-acce-a74a07f8d6bf,,Charisma)"

new entry "DraconicAncestry_Amethyst"
type "PassiveData"
data "DisplayName" "h4f983b2bg0e66g4323g8eb0g79596b2d938d;1"
data "Description" "h02457d43ge292g452cgb447gdbff2fce9820;1"
data "Icon" "PassiveFeature_Observant_Bonuses"
data "Properties" "Highlighted"
data "Boosts" "UnlockSpell(Target_DissonantWhispers,AddChildren,d136c5d9-0ff0-43da-acce-a74a07f8d6bf,,Charisma)"

new entry "DraconicAncestry_Emerald"
type "PassiveData"
data "DisplayName" "hef949db5gb3d0g4d2ag9b25gd35189cc40d3;1"
data "Description" "h7e261999g7ac3g452agad44g12b6e8f0ef68;1"
data "Icon" "PassiveFeature_DraconicAncestry_Black"
data "Properties" "Highlighted"
data "Boosts" "UnlockSpell(Target_InflictWounds,AddChildren,d136c5d9-0ff0-43da-acce-a74a07f8d6bf,,Charisma)"

new entry "DraconicAncestry_Sapphire"
type "PassiveData"
data "DisplayName" "h2e01d79eg61c1g457ega05fgcbbf5a87f59a;1"
data "Description" "h510e7170gbf76g4befg80a4g5728cf47cf77;1"
data "Icon" "PassiveFeature_DestructiveWrath"
data "Properties" "Highlighted"
data "Boosts" "UnlockSpell(Zone_Thunderwave,AddChildren,d136c5d9-0ff0-43da-acce-a74a07f8d6bf,,Charisma)"

new entry "DraconicAncestry_Topaz"
type "PassiveData"
data "DisplayName" "h41b06e4cg3d36g44c6gb4b3g135f19456045;1"
data "Description" "h0f3b32e0g2eb7g4132g9ab3g0296d6ef3384;1"
data "Icon" "PassiveFeature_Charm"
data "Properties" "Highlighted"
data "Boosts" "UnlockSpell(Target_Command_Container,AddChildren,d136c5d9-0ff0-43da-acce-a74a07f8d6bf,,Charisma)"

new entry "ElementalAffinity_Damage"
type "PassiveData"
using "ElementalAffinity_Damage"
data "Description" "h6a8c943ag89f8g4ab5gaa42gb9c52f9c88d3;1"
data "StatsFunctors" "IF(HasPassive('DraconicAncestry_Black',context.Source) or HasPassive('DraconicAncestry_Copper',context.Source)):ApplyStatus(ELEMENTALAFFINITY_ACID_EXTRA_DAMAGE_TECHNICAL,100,-1);IF(HasPassive('DraconicAncestry_Silver',context.Source) or HasPassive('DraconicAncestry_White',context.Source)):ApplyStatus(ELEMENTALAFFINITY_COLD_EXTRA_DAMAGE_TECHNICAL,100,-1);IF(HasPassive('DraconicAncestry_Red',context.Source) or HasPassive('DraconicAncestry_Gold',context.Source) or HasPassive('DraconicAncestry_Brass',context.Source) or HasPassive('DraconicAncestry_Topaz',context.Source)):ApplyStatus(ELEMENTALAFFINITY_FIRE_EXTRA_DAMAGE_TECHNICAL,100,-1);IF(HasPassive('DraconicAncestry_Blue',context.Source) or HasPassive('DraconicAncestry_Bronze',context.Source)):ApplyStatus(ELEMENTALAFFINITY_LIGHTNING_EXTRA_DAMAGE_TECHNICAL,100,-1);IF(HasPassive('DraconicAncestry_Green',context.Source)):ApplyStatus(ELEMENTALAFFINITY_POISON_EXTRA_DAMAGE_TECHNICAL,100,-1);IF(HasPassive('DraconicAncestry_Ruby',context.Source)):ApplyStatus(ELEMENTALAFFINITY_FORCE_EXTRA_DAMAGE_TECHNICAL,100,-1);IF(HasPassive('DraconicAncestry_Diamond',context.Source)):ApplyStatus(ELEMENTALAFFINITY_RADIANT_EXTRA_DAMAGE_TECHNICAL,100,-1);IF(HasPassive('DraconicAncestry_Amethyst',context.Source)):ApplyStatus(ELEMENTALAFFINITY_PSYCHIC_EXTRA_DAMAGE_TECHNICAL,100,-1);IF(HasPassive('DraconicAncestry_Emerald',context.Source)):ApplyStatus(ELEMENTALAFFINITY_NECROTIC_EXTRA_DAMAGE_TECHNICAL,100,-1);IF(HasPassive('DraconicAncestry_Sapphire',context.Source)):ApplyStatus(ELEMENTALAFFINITY_THUNDER_EXTRA_DAMAGE_TECHNICAL,100,-1);"

new entry "ELEMENTALAFFINITY_ACID_EXTRA_DAMAGE_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
using "ELEMENTALAFFINITY_ACID_EXTRA_DAMAGE_TECHNICAL"
data "Boosts" "IF((IsSpell() or IsBreathWeapon() or IsAttack()) and IsDamageTypeAcid()):DamageBonus(max(0, CharismaModifier), Acid)"

new entry "ELEMENTALAFFINITY_COLD_EXTRA_DAMAGE_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
using "ELEMENTALAFFINITY_COLD_EXTRA_DAMAGE_TECHNICAL"
data "Boosts" "IF((IsSpell() or IsBreathWeapon() or IsAttack()) and IsDamageTypeCold()):DamageBonus(max(0, CharismaModifier), Cold)"

new entry "ELEMENTALAFFINITY_FIRE_EXTRA_DAMAGE_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
using "ELEMENTALAFFINITY_FIRE_EXTRA_DAMAGE_TECHNICAL"
data "Boosts" "IF(((IsSpell() or IsBreathWeapon() or IsAttack()) and IsDamageTypeFire())):DamageBonus(max(0, CharismaModifier), Fire)"

new entry "ELEMENTALAFFINITY_LIGHTNING_EXTRA_DAMAGE_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
using "ELEMENTALAFFINITY_LIGHTNING_EXTRA_DAMAGE_TECHNICAL"
data "Boosts" "IF((IsSpell() or IsBreathWeapon() or IsAttack()) and IsDamageTypeLightning()):DamageBonus(max(0, CharismaModifier), Lightning)"

new entry "ELEMENTALAFFINITY_POISON_EXTRA_DAMAGE_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
using "ELEMENTALAFFINITY_POISON_EXTRA_DAMAGE_TECHNICAL"
data "Boosts" "IF((IsSpell() or IsBreathWeapon() or IsAttack()) and IsDamageTypePoison()):DamageBonus(max(0, CharismaModifier), Poison)"

new entry "ELEMENTALAFFINITY_FORCE_EXTRA_DAMAGE_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
using "ELEMENTALAFFINITY_ACID_EXTRA_DAMAGE_TECHNICAL"
data "DisplayName" "h6cb66037g350dg411agab0bgf9fab1338dd6;3"
data "StackId" "ELEMENTALAFFINITY_FORCE_EXTRA_DAMAGE_TECHNICAL"
data "Boosts" "IF((IsSpell() or IsBreathWeapon() or IsAttack()) and IsDamageTypeForce()):DamageBonus(max(0, CharismaModifier), Force)"

new entry "ELEMENTALAFFINITY_RADIANT_EXTRA_DAMAGE_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
using "ELEMENTALAFFINITY_ACID_EXTRA_DAMAGE_TECHNICAL"
data "DisplayName" "h2860ce5dgfbbfg4244g998eg6ce924688d04"
data "StackId" "ELEMENTALAFFINITY_RADIANT_EXTRA_DAMAGE_TECHNICAL"
data "Boosts" "IF((IsSpell() or IsBreathWeapon() or IsAttack() or SpellId('Shout_RadianceOfTheDawn')) and IsDamageTypeRadiant()):DamageBonus(max(0, CharismaModifier), Radiant)"

new entry "ELEMENTALAFFINITY_THUNDER_EXTRA_DAMAGE_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
using "ELEMENTALAFFINITY_ACID_EXTRA_DAMAGE_TECHNICAL"
data "DisplayName" "h2efa997ag8226g4e9bgb338g3c32d7f843e8"
data "StackId" "ELEMENTALAFFINITY_THUNDER_EXTRA_DAMAGE_TECHNICAL"
data "Boosts" "IF((IsSpell() or IsBreathWeapon() or IsAttack()) and IsDamageTypeThunder()):DamageBonus(max(0, CharismaModifier), Thunder)"

new entry "ELEMENTALAFFINITY_PSYCHIC_EXTRA_DAMAGE_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
using "ELEMENTALAFFINITY_ACID_EXTRA_DAMAGE_TECHNICAL"
data "DisplayName" "h4cedbaacgd7d5g4029ga04fg8236dc129d10"
data "StackId" "ELEMENTALAFFINITY_PSYCHIC_EXTRA_DAMAGE_TECHNICAL"
data "Boosts" "IF((IsSpell() or IsBreathWeapon() or IsAttack()) and IsDamageTypePsychic()):DamageBonus(max(0, CharismaModifier), Psychic)"

new entry "ELEMENTALAFFINITY_NECROTIC_EXTRA_DAMAGE_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
using "ELEMENTALAFFINITY_ACID_EXTRA_DAMAGE_TECHNICAL"
data "DisplayName" "h43b3bd6bgb34dg4ef6gbfb9g5121bfbab3ed"
data "StackId" "ELEMENTALAFFINITY_NECROTIC_EXTRA_DAMAGE_TECHNICAL"
data "Boosts" "IF((IsSpell() or IsBreathWeapon() or IsAttack()) and IsDamageTypeNecrotic()):DamageBonus(max(0, CharismaModifier), Necrotic)"


new entry "ElementalAffinity_Resistance_Check"
type "PassiveData"
using "ElementalAffinity_Resistance_Check"
data "Description" "h3de9cbfbg99a9g413cgbc2bg91b52ff3b536"
data "Boosts" ""
data "StatsFunctorContext" "OnCreate"
data "StatsFunctors" "IF(HasPassive('DraconicAncestry_Black',context.Source) or HasPassive('DraconicAncestry_Copper',context.Source)):ApplyStatus(ELEMENTALAFFINITY_ACID,100,-1);IF(HasPassive('DraconicAncestry_Silver',context.Source) or HasPassive('DraconicAncestry_White',context.Source)):ApplyStatus(ELEMENTALAFFINITY_COLD,100,-1);IF(HasPassive('DraconicAncestry_Red',context.Source) or HasPassive('DraconicAncestry_Gold',context.Source) or HasPassive('DraconicAncestry_Brass',context.Source) or HasPassive('DraconicAncestry_Topaz',context.Source)):ApplyStatus(ELEMENTALAFFINITY_FIRE,100,-1);IF(HasPassive('DraconicAncestry_Blue',context.Source) or HasPassive('DraconicAncestry_Bronze',context.Source)):ApplyStatus(ELEMENTALAFFINITY_LIGHTNING,100,-1);IF(HasPassive('DraconicAncestry_Green',context.Source)):ApplyStatus(ELEMENTALAFFINITY_POISON,100,-1);IF(HasPassive('DraconicAncestry_Ruby',context.Source)):ApplyStatus(ELEMENTALAFFINITY_FORCE,100,-1);IF(HasPassive('DraconicAncestry_Diamond',context.Source)):ApplyStatus(ELEMENTALAFFINITY_RADIANT,100,-1);IF(HasPassive('DraconicAncestry_Amethyst',context.Source)):ApplyStatus(ELEMENTALAFFINITY_PSYCHIC,100,-1);IF(HasPassive('DraconicAncestry_Emerald',context.Source)):ApplyStatus(ELEMENTALAFFINITY_NECROTIC,100,-1);IF(HasPassive('DraconicAncestry_Sapphire',context.Source)):ApplyStatus(ELEMENTALAFFINITY_THUNDER,100,-1);"


new entry "ELEMENTALAFFINITY_ACID"
type "StatusData"
data "StatusType" "BOOST"
using "ELEMENTALAFFINITY_ACID"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;ApplyToDead;IgnoreResting"

new entry "ELEMENTALAFFINITY_FORCE"
type "StatusData"
data "StatusType" "BOOST"
using "ELEMENTALAFFINITY_ACID"
data "DisplayName" "h01fb6f21g2e60g4621ga8e1g95d8373a8629"
data "Description" "hf458b4b6g5d4cg400dga4efge0035d884c1a"
data "Boosts" "Resistance(Force,Resistant)"

new entry "ELEMENTALAFFINITY_RADIANT"
type "StatusData"
data "StatusType" "BOOST"
using "ELEMENTALAFFINITY_ACID"
data "DisplayName" "h76557d98g680bg40dagb9e4g9e63738730d3"
data "Description" "h6d1123b8g773cg4fefg95d7g78d864f5f04f"
data "Boosts" "Resistance(Radiant,Resistant)"

new entry "ELEMENTALAFFINITY_PSYCHIC"
type "StatusData"
data "StatusType" "BOOST"
using "ELEMENTALAFFINITY_ACID"
data "DisplayName" "h3d8da66fg0b00g4741gbaf1g11493e334a29"
data "Description" "h112ca36dge0edg46d7g95d7g4792a5a8c1ed"
data "Boosts" "Resistance(Psychic,Resistant)"

new entry "ELEMENTALAFFINITY_NECROTIC"
type "StatusData"
data "StatusType" "BOOST"
using "ELEMENTALAFFINITY_ACID"
data "DisplayName" "h34c7e4c5g7455g45dbgb4abg4fd5b2e0ec99"
data "Description" "hbc23fb01gcfe3g4184ga99ag2ed192e32512"
data "Boosts" "Resistance(Necrotic,Resistant)"

new entry "ELEMENTALAFFINITY_THUNDER"
type "StatusData"
data "StatusType" "BOOST"
using "ELEMENTALAFFINITY_ACID"
data "DisplayName" "h112a7f50g3634g4956g9148gf980f7507714"
data "Description" "hc0b82ba2g4945g40f2gbb2cg15373b63fc55"
data "Boosts" "Resistance(Thunder,Resistant)"


new entry "DraconicResilience"
type "PassiveData"
using "DraconicResilience"
data "Description" "h1661fbfcgc84bg4a50g926fgc691443273e0"
data "Boosts" "ACOverrideFormula(10,true,Dexterity,Charisma)"


new entry "FromTheShadows"
type "PassiveData"
data "DisplayName" "h1c3e6087g5557g4936g8777g5f997baba3f8"
data "Description" "ha30f8318g635dg4949gb888g8ea62c1c7290"
data "DescriptionParams" "DealDamage(1d6,Psychic);DealDamage(1d6,Necrotic)"
data "Icon" "PassiveFeature_Generic_Darkness"
data "Properties" "Highlighted"
data "Boosts" "IF(InSurface('SurfaceDarknessCloud', context.Source) or IsDamageTypePsychic() or (HasPassive('TheShadowWithin', context.Source) and IsDamageTypeNecrotic())):DamageBonus(1d6, Psychic, true);IF(InSurface('SurfaceDarknessCloud', context.Target) or HasStatus('VOID_AURA',context.Target) or IsDamageTypeNecrotic() or (HasPassive('TheShadowWithin', context.Source) and IsDamageTypePsychic())):DamageBonus(1d6, Necrotic, true)"


new entry "TheShadowWithin"
type "PassiveData"
data "DisplayName" "h0cfe6ad8gda46g4060gaff5g407f697a2972"
data "Description" "he8f53777g5947g4671g88ffg0481fee79849"
data "Icon" "PassiveFeature_Generic_Darkness"
data "Properties" "Highlighted"