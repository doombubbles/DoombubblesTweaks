// Barbarian
new entry "FuriousCaster"
type "PassiveData"
data "DisplayName" "h2eaf0e52g3850g4a2fgaae5g46cbb1f31925"
data "Description" "heb44f3d5g063eg4da0g9cc9gc8787c2d2fac"
data "Icon" "PassiveFeature_MindlessRage"
data "Properties" "Highlighted"
data "Boosts" "StatusImmunity(RAGE_MUTE);"

new entry "Target_BolsteringMagic_Boost"
type "SpellData"
data "SpellType" "Target"
using "Target_BolsteringMagic_Boost"
data "Cooldown" "OncePerShortRest"

new entry "Target_BolsteringMagic_SpellSlot1"
type "SpellData"
data "SpellType" "Target"
using "Target_BolsteringMagic_SpellSlot1"
data "Cooldown" "OncePerShortRest"


new entry "WILD_MAGIC_BARBARIAN_WEAPON_INFUSION"
type "StatusData"
data "StatusType" "BOOST"
using "WILD_MAGIC_BARBARIAN_WEAPON_INFUSION"
data "DisplayName" "h5a46a47fgfe44g415cga493g3ade76e6ee78;1"
data "Description" "h97303850g72e7g4513g9d6ag0b0982c830b2;2"
data "DescriptionParams" "DealDamage(1d6,Force)"
data "Icon" "statIcons_WildMagic_Barbarian_WeaponInfusion"
data "StatusEffectOverride" "083181ba-1276-438b-876f-e3e75593990f"
data "Boosts" "ItemReturnToOwner();WeaponProperty(Thrown);WeaponProperty(Light);WeaponDamage(1d6,Force)"
data "RemoveConditions" "not HasStatus('RAGE', GetOwner(context.Source))"
data "RemoveEvents" "OnTurn;OnStatusRemoved"


new entry "WILD_MAGIC_BARBARIAN_MAGIC_RETRIBUTION"
type "StatusData"
data "StatusType" "BOOST"
using "WILD_MAGIC_BARBARIAN_MAGIC_RETRIBUTION"
data "DisplayName" "h06f6f701g9b99g43bbgbd24gabe060b10bf0;1"
data "Description" "hfd910ed8geb58g4995g9757g8a44b8240845;2"
data "DescriptionParams" "DealDamage(1d6, Force)"
data "Icon" "statIcons_WildMagic_Barbarian_MagicRetribution"
data "Passives" "WildMagicBarbarian_MagicRetribution_Passive"
data "RemoveConditions" "not HasStatus('RAGE')"
data "RemoveEvents" "OnTurn;OnStatusRemoved"
data "StatusEffect" "bb5e4f14-4258-419a-8c64-ea534f44b6a0"


new entry "WILD_MAGIC_BARBARIAN_PROTECTIVE_LIGHTS_AURA"
type "StatusData"
data "StatusType" "BOOST"
using "WILD_MAGIC_BARBARIAN_PROTECTIVE_LIGHTS_AURA"
data "DisplayName" "h4b3588fag0ee1g4cf8gb2e8g9f340ed2beaf;1"
data "Description" "hcef8b74agabedg4091ga4a3g8e74f0839310;3"
data "Icon" "statIcons_WildMagic_Barbarian_ProtectiveLights"
data "SoundLoop" "Spell_Status_ProtectiveLights_MO"
data "Boosts" "AC(1)"
data "StatusEffect" "b613a7f4-1182-4e39-b63c-4fe77b96e9c2"


new entry "CL_Passive_OneDnD_ShortRestRageRecovery"
type "PassiveData"
data "DisplayName" "h9a045badg24cag489bg9d6bg6014e7b4f032"
data "Description" "h8def66aegfe9eg460fgb0c8ga311484f0fa0"
data "Icon" "PassiveFeature_Generic_WildAnimal"
data "Properties" "Highlighted;ForceShowInCC"
data "StatsFunctorContext" "OnShortRest"
data "StatsFunctors" "RestoreResource(SELF,Rage,1,0)"

new entry "ImprovedRageRecovery"
type "PassiveData"
data "DisplayName" "hca9c925eg8a1ag4426g8616g9291d26d075f"
data "Description" "he9328baeg5662g43c5g9bf2g6dcf7ac66e1a"
data "Icon" "PassiveFeature_Generic_WildAnimal"
data "Properties" "Highlighted;ForceShowInCC"
data "BoostConditions" "not Combat()"
data "Boosts" "ActionResourceReplenishTypeOverride(Rage,ShortRest)"

new entry "UnarmedOffense_Barbarian"
type "PassiveData"
data "DisplayName" "hde5c4b21ge224g4e40g996bg71bb032a62a5"
data "Description" "hc574d41bgc983g4101g960dg11b2004f676a"
data "DescriptionParams" "DealDamage(LevelMapValue(BarbarianMartialArts), Bludgeoning)"
data "Icon" "Spell_Transmutation_Thaumaturgy"
data "Properties" "Highlighted"
data "BoostContext" "OnEquip;OnUnequip;OnCreate"
data "BoostConditions" "HasNoMainHand() and HasNoOffHand()"
data "Boosts" "MonkWeaponDamageDiceOverride(LevelMapValue(BarbarianMartialArts))"

new entry "RecklessAttack"
type "PassiveData"
using "RecklessAttack"
data "Boosts" "UnlockInterrupt(Interrupt_RecklessAttack);UnlockSpell(Target_RecklessAttack);UnlockSpell(Target_RecklessAttack_Unarmed)"
data "Conditions" "IsWeaponAttack() or IsMeleeUnarmedAttack()"

new entry "Target_RecklessAttack_Unarmed"
type "SpellData"
data "SpellType" "Target"
using "Target_RecklessAttack"
data "RequirementConditions" "HasNoMainHand()"
data "SpellProperties" "ApplyStatus(SELF,RECKLESS_ATTACK, 100, 1);GROUND:DealDamage(UnarmedDamage, Bludgeoning)"
data "SpellSuccess" "DealDamage(max(1,UnarmedDamage), Bludgeoning)"
data "SpellRoll" "Attack(AttackType.MeleeUnarmedAttack,true)"
data "DisplayName" "h3d81f927g09fcg4bdbg82c2gd848a6538c8f"
data "TooltipDamageList" "DealDamage(UnarmedDamage, Bludgeoning)"
data "WeaponTypes" ""
data "SpellFlags" "IsMelee;IsHarmful;DisableBlood"
data "Sheathing" "Sheathed"

new entry "Interrupt_RecklessAttack"
type "InterruptData"
using "Interrupt_RecklessAttack"
data "Conditions" "not Dead(context.Observer) and HasInterruptedAttack() and Self(context.Observer,context.Source) and (IsMeleeWeaponAttack() or IsMeleeUnarmedAttack()) and not HasStatus('RECKLESS_ATTACK',context.Observer) and not SpellId('Target_RecklessAttack') and not SpellId('Target_RecklessAttack_Unarmed') and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Source) and not InterruptHasAdvantage()"

new entry "ImprovedUnarmedOffense_Barbarian"
type "PassiveData"
data "DisplayName" "hac760967gb86dg4859g82a4g32dc93767ff8"
data "Description" "h92b26fd4ga7d9g4097gacb4g8a610da9f12d"
data "Icon" "Spell_Transmutation_Thaumaturgy"
data "Properties" "Highlighted"
data "Boosts" "IF(IsMeleeUnarmedAttack()):CharacterUnarmedDamage(ConstitutionModifier)"

new entry "Target_FrenziedStrike_Unarmed"
type "SpellData"
data "SpellType" "Target"
using "Target_FrenziedStrike"
data "RequirementConditions" "HasStatus('SG_Rage') and HasNoMainHand()"
data "SpellRoll" "Attack(AttackType.MeleeWeaponAttack)"
data "DisplayName" "h74a89687ge87fg4230ga127gc5f5f3e4c817"
data "Description" "h5a9a571agde77g4f01ga924g88e1569527f3"
data "Icon" "Action_Monk_FreeUnarmedStrike"
data "ExtraDescription" ""
data "TargetConditions" "Character() and not Self()"
data "SpellSuccess" "DealDamage(UnarmedDamage, Bludgeoning);ApplyStatus(PRONE,100,1)"
data "SpellProperties" "GROUND:DealDamage(UnarmedDamage, Bludgeoning)"
data "TooltipDamageList" "DealDamage(UnarmedDamage, Bludgeoning)"
data "WeaponTypes" ""
data "SpellFlags" "IsMelee;IsHarmful;DisableBlood"
data "Sheathing" "Sheathed"
data "PrepareEffect" ""
data "CastEffect" ""

new entry "Shout_Rage_Frenzy"
type "SpellData"
data "SpellType" "Shout"
using "Shout_Rage_Frenzy"
data "Description" "h70bf2a77gd03dg453bg8a0cg4ea555a51ee1"

new entry "TotemSpirit_Eagle"
type "PassiveData"
using "TotemSpirit_Eagle"
data "Boosts" "UnlockSpell(Shout_Rage_Totem_Eagle);UnlockSpell(Projectile_DivingStrike);UnlockSpell(Projectile_DivingStrike_Unarmed)"

new entry "Projectile_DivingStrike_Unarmed"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_DivingStrike"
data "RequirementConditions" "HasStatus('SG_Rage') and HasNoMainHand()"
data "DisplayName" "h0737cddcg36d9g43a8g8ab8gd9c5852eb13a"
data "SpellRoll" "Attack(AttackType.MeleeWeaponAttack)"
data "SpellSuccess" "DealDamage(max(1,UnarmedDamage), Bludgeoning);ApplyStatus(PRONE,100,2)"
data "TooltipDamageList" "DealDamage(UnarmedDamage, Bludgeoning)"
data "SpellFlags" "IsJump;IsHarmful;HasHighGroundRangeExtension;CombatLogSetSingleLineRoll;DisableBlood"

new entry "TotemSpirit_Tiger"
type "PassiveData"
using "TotemSpirit_Tiger"
data "Boosts" "UnlockSpell(Shout_Rage_Totem_Tiger);UnlockSpell(Zone_TigersBloodlust);UnlockSpell(Zone_TigersBloodlust_Unarmed)"

new entry "Zone_TigersBloodlust_Unarmed"
type "SpellData"
data "SpellType" "Zone"
using "Zone_TigersBloodlust"
data "RequirementConditions" "HasStatus('SG_Rage') and HasNoMainHand()"
data "SpellRoll" "Attack(AttackType.MeleeWeaponAttack)"
data "DisplayName" "hfbbcccc5g4671g49e8g8465gb2016f38145a"
data "SpellSuccess" "DealDamage(UnarmedDamage/2, Bludgeoning);IF(Character()):ApplyStatus(BLEEDING,100,2)"
data "TooltipDamageList" "DealDamage(UnarmedDamage/2, Bludgeoning)"
data "WeaponTypes" ""
data "Sheathing" "Sheathed"

new entry "Rush_Primal_Stampede"
type "SpellData"
data "SpellType" "Rush"
using "Rush_Primal_Stampede"
data "SpellSuccess" "DealDamage(max(UnarmedDamage,1d4)+StrengthModifier,Bludgeoning);TARGET:IF(not SavingThrow(Ability.Strength,10+GetModifier(context.Source.Strength))):ApplyStatus(PRONE,100,2)"
data "TooltipDamageList" "DealDamage(max(UnarmedDamage,1d4)+StrengthModifier, Bludgeoning)"