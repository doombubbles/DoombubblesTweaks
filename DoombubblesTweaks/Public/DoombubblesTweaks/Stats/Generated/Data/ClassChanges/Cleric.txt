new entry "ImprovedWarPriest"
type "PassiveData"
data "DisplayName" "h13d40804gd1feg4ef9g8355g6d3d8bfc4773;1"
data "Description" "hd0cda1cfge813g4f39g87c6g0df5c40fd6c6;2"
data "Icon" "PassiveFeature_WarPriest"
data "Properties" "Highlighted"
data "BoostConditions" "not Combat()"
data "Boosts" "ActionResourceReplenishTypeOverride(WarPriestActionPoint,ShortRest)"

new entry "EXTRA_ATTACK_WAR_PRIEST"
type "StatusData"
data "StatusType" "BOOST"
using "EXTRA_ATTACK_WAR_PRIEST"
data "Passives" "WarPriest_Attack"
data "Boosts" ""

new entry "WarPriest_Attack"
type "PassiveData"
data "DisplayName" "h4c1f2f2dg8a14g4391gaf11g78e249692115;2"
data "Description" "h5846ba7cg19b5g475cg88dbg2ea9d3793ea6;3"
data "Icon" "PassiveFeature_WarPriest"
data "Properties" "IsToggled;ToggledDefaultOn;ToggledDefaultAddToHotbar;Highlighted;Temporary"
data "Boosts" "UnlockSpellVariant(ExtraAttackCheck(),ModifyUseCosts(Replace,BonusActionPoint,1,0,ActionPoint),ModifyUseCosts(Add,WarPriestActionPoint,1,0),ModifyIconGlow(),ModifyTooltipDescription())"
data "StatsFunctorContext" "OnTurn"
data "StatsFunctors" "RemoveStatus(EXTRA_ATTACK_WAR_PRIEST)"



new entry "Target_BlessingOfTheTrickster"
type "SpellData"
data "SpellType" "Target"
using "Target_BlessingOfTheTrickster"
data "SpellFlags" "IsMelee;Invisible"

new entry "Target_InvokeDuplicity"
type "SpellData"
data "SpellType" "Target"
using "Target_InvokeDuplicity"
data "SpellFlags" "CannotTargetItems;CannotTargetCharacter"

// more accurate description
new entry "Shout_CloakOfShadows"
type "SpellData"
data "SpellType" "Shout"
using "Shout_CloakOfShadows"
data "Description" "hd4a921c1g5e84g41a8g95e7g20152f73fa30"



new entry "Interrupt_DivineStrike_Cold"
type "InterruptData"
using "Interrupt_DivineStrike_Cold"
data "Conditions" "Self(context.Source,context.Observer) and (IsWeaponAttack() or (IsCantrip() and TotalDamageDoneGreaterThan(0))) and not IsCritical() and not IsKillingBlow() and IsHit() and not IsDivineStrike() and Character() and not AnyEntityIsItem()"

new entry "Interrupt_DivineStrike_Cold_Critical"
type "InterruptData"
using "Interrupt_DivineStrike_Cold_Critical"
data "Conditions" "Self(context.Source,context.Observer) and (IsWeaponAttack() or (IsCantrip() and TotalDamageDoneGreaterThan(0))) and IsCritical() and not IsKillingBlow() and IsHit() and not IsDivineStrike() and Character() and not AnyEntityIsItem()"

new entry "Interrupt_DivineStrike_Fire_Critical"
type "InterruptData"
using "Interrupt_DivineStrike_Fire_Critical"
data "Conditions" "Self(context.Source,context.Observer) and (IsWeaponAttack() or (IsCantrip() and TotalDamageDoneGreaterThan(0))) and IsCritical() and not IsKillingBlow() and IsHit() and not IsDivineStrike() and Character() and not AnyEntityIsItem()"

new entry "Interrupt_DivineStrike_Lightning_Critical"
type "InterruptData"
using "Interrupt_DivineStrike_Lightning_Critical"
data "Conditions" "Self(context.Source,context.Observer) and (IsWeaponAttack() or (IsCantrip() and TotalDamageDoneGreaterThan(0))) and IsCritical() and not IsKillingBlow() and IsHit() and not IsDivineStrike() and Character() and not AnyEntityIsItem()"

new entry "Interrupt_DivineStrike_Poison_Critical"
type "InterruptData"
using "Interrupt_DivineStrike_Poison_Critical"
data "Conditions" "Self(context.Source,context.Observer) and (IsWeaponAttack() or (IsCantrip() and TotalDamageDoneGreaterThan(0))) and IsCritical() and not IsKillingBlow() and IsHit() and not IsDivineStrike() and Character() and not AnyEntityIsItem()"

new entry "Interrupt_DivineStrike_Radiant_Critical"
type "InterruptData"
using "Interrupt_DivineStrike_Radiant_Critical"
data "Conditions" "Self(context.Source,context.Observer) and (IsWeaponAttack() or (IsCantrip() and TotalDamageDoneGreaterThan(0))) and IsCritical() and not IsKillingBlow() and IsHit() and not IsDivineStrike() and Character() and not AnyEntityIsItem()"

new entry "Interrupt_DivineStrike_Thunder_Critical"
type "InterruptData"
using "Interrupt_DivineStrike_Thunder_Critical"
data "Conditions" "Self(context.Source,context.Observer) and (IsWeaponAttack() or (IsCantrip() and TotalDamageDoneGreaterThan(0))) and IsCritical() and not IsKillingBlow() and IsHit() and not IsDivineStrike() and Character() and not AnyEntityIsItem()"

new entry "Interrupt_DivineStrike_MeleeWeapon"
type "InterruptData"
using "Interrupt_DivineStrike_MeleeWeapon"
data "Conditions" "Self(context.Source,context.Observer) and (IsWeaponAttack() or (IsCantrip() and TotalDamageDoneGreaterThan(0))) and IsMeleeAttack() and not IsCritical() and not IsKillingBlow() and IsHit() and not IsDivineStrike() and Character() and not AnyEntityIsItem()"

new entry "Interrupt_DivineStrike_MeleeWeapon_Critical"
type "InterruptData"
using "Interrupt_DivineStrike_MeleeWeapon_Critical"
data "Conditions" "Self(context.Source,context.Observer) and (IsWeaponAttack() or (IsCantrip() and TotalDamageDoneGreaterThan(0))) and IsMeleeAttack() and IsCritical() and not IsKillingBlow() and IsHit() and not IsDivineStrike() and Character() and not AnyEntityIsItem()"

new entry "Interrupt_DivineStrike_RangedWeapon"
type "InterruptData"
using "Interrupt_DivineStrike_RangedWeapon"
data "Conditions" "Self(context.Source,context.Observer) and (IsWeaponAttack() or (IsCantrip() and TotalDamageDoneGreaterThan(0))) and IsRangedAttack() and not IsCritical() and not IsKillingBlow() and IsHit() and not IsDivineStrike() and Character() and not AnyEntityIsItem()"

new entry "Interrupt_DivineStrike_RangedWeapon_Critical"
type "InterruptData"
using "Interrupt_DivineStrike_RangedWeapon_Critical"
data "Conditions" "Self(context.Source,context.Observer) and (IsWeaponAttack() or (IsCantrip() and TotalDamageDoneGreaterThan(0))) and IsRangedAttack() and IsCritical() and not IsKillingBlow() and IsHit() and not IsDivineStrike() and Character() and not AnyEntityIsItem()"


new entry "HarnessDivinePower"
type "PassiveData"
data "DisplayName" "h921d0da4g9c87g4d43gbba1g681cfa7515ed"
data "Description" "hf284be5eg9a05g4246g8821g0b60d669daa0"
data "Icon" "Action_Mag_SpellSlotRestoration"
data "Boosts" "UnlockSpell(Shout_HarnessDivinePower)"
// data "Properties" "IsToggled"
// data "Boosts" "UnlockSpellVariant(MagicItemPoweredSpellCheck(),ModifyTooltipDescription(),ModifyUseCosts(Replace,SpellSlot,0,-1,SpellSlot),ModifyUseCosts(Add,ChannelDivinity,SpellPowerLevel,0))"
// data "EnabledConditions" "HasActionResource('ChannelDivinity', 1, 0, false, false, context.Source)"
// data "EnabledContext" "OnCastResolved;OnLongRest;OnActionResourcesChanged"

new entry "Shout_HarnessDivinePower"
type "SpellData"
data "SpellType" "Shout"
data "ContainerSpells" "Shout_HarnessDivinePower_1;Shout_HarnessDivinePower_2;Shout_HarnessDivinePower_3"
data "AIFlags" "CanNotUse"
data "Icon" "Action_Mag_SpellSlotRestoration"
data "DisplayName" "h921d0da4g9c87g4d43gbba1g681cfa7515ed"
data "Description" "hf284be5eg9a05g4246g8821g0b60d669daa0"
data "CastSound" "Action_Cast_ArcaneRecovery"
data "TargetSound" "Action_Impact_ArcaneRecovery"
data "PreviewCursor" "Cast"
data "CastTextEvent" "Cast"
data "UseCosts" "BonusActionPoint:1;ChannelDivinity:1"
data "SpellAnimation" "414bbf02-2918-4f01-83fb-1ddc7a588d88,,;,,;454e3439-19f2-4c42-8773-e18cf4ee233a,,;ccdf11dc-08f7-4d7f-bca9-55cfcc8f94bd,,;0c5dcc83-fa78-41da-b6a5-440b5ea30936,,;,,;bea988a0-2ec5-40d8-a67e-ffbd7454bc53,,;4156d364-d2c0-4a01-908c-3552f78f434d,,;6f0a29b6-0ae8-4ebf-a1e4-8069c4a6ad16,,"
data "VerbalIntent" "Utility"
data "SpellStyleGroup" "Class"
data "SpellFlags" "IsLinkedSpellContainer"
data "PrepareEffect" "96a51ac8-2e7e-4718-bb62-dcfd18964a02"
data "CastEffect" "ce5a1256-d5c8-45b5-98fc-ee9a16e3673c"

new entry "Shout_HarnessDivinePower_1"
type "SpellData"
data "SpellType" "Shout"
using "Shout_HarnessDivinePower"
data "SpellContainerID" "Shout_HarnessDivinePower"
data "ContainerSpells" ""
data "SpellProperties" "RestoreResource(SpellSlot,1,1)"
data "DisplayName" "hbe9f859eg5142g461dg9264g99900e430a13"
data "Description" "h3530861cg7151g43f4gaeacg071ea5cf0e5c"
data "DescriptionParams" "1"
data "Icon" "Action_Mag_SpellSlotRestoration_1"
data "SpellFlags" ""

new entry "Shout_HarnessDivinePower_2"
type "SpellData"
data "SpellType" "Shout"
using "Shout_HarnessDivinePower_1"
data "SpellProperties" "RestoreResource(SpellSlot,1,2)"
data "DisplayName" "hbe965116g34fag4627g8411g015749c88b4c"
data "DescriptionParams" "2"
data "Icon" "Action_Mag_SpellSlotRestoration_2"
data "UseCosts" "BonusActionPoint:1;ChannelDivinity:1"
data "SpellFlags" ""
data "RequirementConditions" "ConditionResult(context.Source.ProficiencyBonus > 2)"

new entry "Shout_HarnessDivinePower_3"
type "SpellData"
data "SpellType" "Shout"
using "Shout_HarnessDivinePower_1"
data "SpellProperties" "RestoreResource(SpellSlot,1,3)"
data "DisplayName" "hfaaaaf20g7f5fg4757gb17cgdb4d1d1f0b49"
data "DescriptionParams" "3"
data "Icon" "Action_Mag_SpellSlotRestoration_3"
data "UseCosts" "BonusActionPoint:1;ChannelDivinity:1"
data "SpellFlags" ""
data "RequirementConditions" "ConditionResult(context.Source.ProficiencyBonus > 3)"

new entry "Reaper"
type "PassiveData"
using "Reaper"
data "Boosts" "UnlockSpellVariant(IsCantrip() & SpellTypeIs(SpellType.Target) & IsSpellOfSchool(SpellSchool.Necromancy),ModifyNumberOfTargets(AdditiveBase,1,false))"