new entry "Projectile_MAG_FireBolt_Staff"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_MAG_FireBolt_Staff"
data "Cooldown" "OncePerCombat"
data "UseCosts" "BonusActionPoint:1"

new entry "MAG_Fire_Heat_Convergence_Passive"
type "PassiveData"
using "MAG_Fire_Heat_Convergence_Passive"
data "ExtraDescriptionParams" "DealDamage(2,Fire)"

new entry "MAG_FIRE_HEAT_CONVERGENCE"
type "StatusData"
data "StatusType" "BOOST"
using "MAG_FIRE_HEAT_CONVERGENCE"
data "DescriptionParams" "2"
data "Boosts" "IF(IsDamageTypeFire() and not Self()):DamageBonus(MAG_FIRE_HEAT.Duration+MAG_FIRE_HEAT.Duration, Fire)"

new entry "MAG_FIRE_HEAT"
type "StatusData"
data "StatusType" "BOOST"
using "MAG_FIRE_HEAT" 
data "DescriptionParams" "DealDamage(1, Fire)"
data "TooltipDamage" "DealDamage(1, Fire)"
data "TickFunctors" "IF(not ConditionResult(context.Source.HasAllResistances({DamageType.Fire}, ResistanceType.Resistant)) and not HasStatus('DOWNED')):DealDamage(1,Fire)"

new entry "Shout_MAG_Fire_SelfImmolation"
type "SpellData"
data "SpellType" "Shout"
using "Shout_MAG_Fire_SelfImmolation"
data "TooltipDamageList" "DealDamage(1, Fire)"
data "Cooldown" "OncePerCombat"
data "SpellProperties" "IF(not ConditionResult(context.Source.HasAllResistances({DamageType.Fire}, ResistanceType.Resistant)) or not Combat()):DealDamage(1,Fire);ApplyStatus(MAG_FIRE_HEAT,100,2);ApplyStatus(MAG_FIRE_HEAT_DURATION_TECHNICAL, 100, 1)"
