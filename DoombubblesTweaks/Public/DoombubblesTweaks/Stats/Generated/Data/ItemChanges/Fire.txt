new entry "MAG_Fire_FireDamage_Quarterstaff"
type "Weapon"
using "MAG_Fire_FireDamage_Quarterstaff"
data "StatusOnEquip" "QUICKENED_FIRE_BOLT"

new entry "MAG_FlamingFist_StaffOfFire"
type "Weapon"
using "MAG_FlamingFist_StaffOfFire"
data "StatusOnEquip" "QUICKENED_FIRE_BOLT"

// new entry "MAG_Fire_Heat_Convergence_Passive"
// type "PassiveData"
// using "MAG_Fire_Heat_Convergence_Passive"
// data "ExtraDescriptionParams" "DealDamage(2,Fire)"

// new entry "MAG_FIRE_HEAT_CONVERGENCE"
// type "StatusData"
// data "StatusType" "BOOST"
// using "MAG_FIRE_HEAT_CONVERGENCE"
// data "DescriptionParams" "2"
// data "Boosts" "IF(IsDamageTypeFire() and not Self()):DamageBonus(MAG_FIRE_HEAT.Duration+MAG_FIRE_HEAT.Duration, Fire)"

new entry "MAG_FIRE_HEAT"
type "StatusData"
data "StatusType" "BOOST"
using "MAG_FIRE_HEAT" 
data "DescriptionParams" "DealDamage(1, Fire)"
data "TooltipDamage" "DealDamage(1, Fire)"
data "TickFunctors" "IF(not ConditionResult(context.Source.HasAllResistances({DamageType.Fire}, ResistanceType.Resistant)) and not HasStatus('DOWNED')):DealDamage(1,Fire)"
data "RemoveConditions" "HasStatus('DOWNED') or not Combat()"
data "RemoveEvents" "OnTurn;OnCombatEnded"


new entry "Shout_MAG_Fire_SelfImmolation"
type "SpellData"
data "SpellType" "Shout"
using "Shout_MAG_Fire_SelfImmolation"
data "Description" "hc4918c8dgf4b0g456eg91e2g63dc4cbee13b"
data "TooltipDamageList" "DealDamage(1, Fire)"
data "Cooldown" "OncePerCombat"
data "SpellProperties" "IF(not ConditionResult(context.Source.HasAllResistances({DamageType.Fire}, ResistanceType.Resistant)) or not Combat()):DealDamage(1,Fire);ApplyStatus(MAG_FIRE_HEAT,100,2);ApplyStatus(MAG_FIRE_HEAT_DURATION_TECHNICAL, 100, 1)"

new entry "MAG_Heat_Fire_Robe"
type "Armor"
using "MAG_Heat_Fire_Robe"
data "PassivesOnEquip" "MAG_Heat_Fire_Robe_Passive;MAG_Heat_Fire_ArmorMagicBoost_Passive"
data "StatusOnEquip" "MAG_HEAT_FIRE_AC_BONUS_TECHNICAL"

new entry "MAG_Heat_Fire_ArmorMagicBoost_Passive"
type "PassiveData"
data "DisplayName" "heb5ed793g7214g43ecg8c82g6eb654245030"
data "Description" "h002bd663g6891g426eg9bffgfb95a9aaa249"
data "DescriptionParams" "1"
data "StatsFunctorContext" "OnStatusApplied;OnStatusRemoved;OnTurn"
data "StatsFunctors" "IF(StatusId('MAG_FIRE_HEAT')):ApplyStatus(MAG_HEAT_FIRE_AC_BONUS,100,1)"

new entry "MAG_HEAT_FIRE_AC_BONUS"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "heb5ed793g7214g43ecg8c82g6eb654245030"
data "Description" "h002bd663g6891g426eg9bffgfb95a9aaa249"
data "DescriptionParams" "1"
data "StackId" "MAG_HEAT_FIRE_AC_BONUS"
data "Boosts" "AC(1);RollBonus(SavingThrow, 1)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog"

new entry "MAG_HEAT_FIRE_AC_BONUS_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
using "MAG_HEAT_FIRE_AC_BONUS"
data "StackId" "MAG_HEAT_FIRE_AC_BONUS_TECHNICAL"
data "Boosts" ""
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting;ApplyToDead"
data "OnRemoveFunctors" "RemoveStatus(MAG_HEAT_FIRE_AC_BONUS)"


new entry "MAG_Fire_HeatOnWeaponDamage_Passive"
type "PassiveData"
using "MAG_Fire_HeatOnWeaponDamage_Passive"
data "Description" "ha1929174g218fg4af7gb694g1936f8111809"
data "Conditions" "IsMeleeWeaponAttack()"
data "Properties" ""