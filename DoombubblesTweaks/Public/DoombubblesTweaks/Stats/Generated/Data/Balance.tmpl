{{ $TavernBrwalerModifier := $.Balance.NerfTavernBrawler | ternary "ProficiencyBonus" "StrengthModifier" }}

new entry "TavernBrawler"
type "PassiveData"
using "TavernBrawler"
data "Boosts" " IF(IsMeleeUnarmedAttack()):RollBonus(Attack, max(0,{{$TavernBrwalerModifier}}));IF(IsMeleeUnarmedAttack()):CharacterUnarmedDamage(max(0,{{$TavernBrwalerModifier}}));IF(IsRangedUnarmedAttack()):RollBonus(Attack, max(0,{{$TavernBrwalerModifier}}));IF(IsRangedUnarmedAttack() and not HasStatus('SG_Polymorph_BeastShape',context.Source)):DamageBonus(max(0,{{$TavernBrwalerModifier}}));IF((HasStatus('SG_Polymorph_BeastShape',context.Source) or HasStatus('SLAYER_PLAYER',context.Source) or HasStatus('SLAYER_PLAYER_10',context.Source)) and IsUnarmedAttack() and not (Tagged('MYRMIDON_AIR',context.Source) or Tagged('MYRMIDON_FIRE',context.Source) or Tagged('MYRMIDON_WATER',context.Source))):DamageBonus(max(0,{{$TavernBrwalerModifier}}))"
data "StatsFunctorContext" ""
data "Conditions" ""
data "StatsFunctors" ""
{{- if $.Balance.NerfTavernBrawler }}
data "Description" "h1fecb306g6183g4f42gbd47gcaf6810fe343"
{{- end }}


{{- if $.Balance.NerfArcaneAcuity }}
new entry "MAG_GISH_ARCANE_ACUITY_DURATION_TECHNICAL"
type "StatusData"
using "MAG_GISH_ARCANE_ACUITY_DURATION_TECHNICAL"
data "OnApplyFunctors" "IF(MaximumLowStackableStatus(context.Target, 'MAG_GISH_ARCANE_ACUITY')):SetStatusDuration(MAG_GISH_ARCANE_ACUITY, 5, ForceSet) "
{{- end }}


{{- if $.Balance.NerfSlashingFlourish }}

new entry "Zone_BladeFlourish_Slashing"
type "SpellData"
data "SpellType" "Zone"
using "Zone_BladeFlourish_Slashing"
data "SpellSuccess" "DealDamage(MainMeleeWeapon/2 + LevelMapValue(BardicInspiration), MainWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand)"
data "TooltipDamageList" "DealDamage(MainMeleeWeapon/2 + LevelMapValue(BardicInspiration), MainWeaponDamageType)"

new entry "Projectile_BladeFlourish_Slashing"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_BladeFlourish_Slashing"
data "SpellSuccess" "DealDamage(max(1,MainRangedWeapon/2 + LevelMapValue(BardicInspiration)), MainRangedWeaponDamageType); ExecuteWeaponFunctors(MainHand)"
data "TooltipDamageList" "DealDamage(MainMeleeWeapon/2 + LevelMapValue(BardicInspiration), MainMeleeWeaponDamageType)"

{{- end }}

{{- if $.Balance.FixSlashingFlourish }}

new entry "Projectile_BladeFlourish_Slashing"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_BladeFlourish_Slashing"
data "SpellFlags" "HasHighGroundRangeExtension;RangeIgnoreVerticalThreshold;IsHarmful;IgnorePreviouslyPickedEntities"

{{- end }}