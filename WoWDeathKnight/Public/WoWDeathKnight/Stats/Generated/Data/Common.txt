
new entry "Shout_SpiritGuardians_Necrotic"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SpiritGuardians_Necrotic"
data "Icon" "Spell_Conjuration_SpiritGuardians_Necrotic"

new entry "SPIRIT_GUARDIANS_NECROTIC_AURA"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_NECROTIC_AURA"
data "Icon" "Spell_Conjuration_SpiritGuardians_Necrotic"

new entry "RuneCasting"
type "PassiveData"
data "DisplayName" "ha0bc63c4g7f19g4cd2gbfe2g5ac7a3c167a1"
data "Description" "h257de8efg1862g487dgbfd3gd6d00997e5d2"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnStatusApplied"
data "Conditions" "StatusId('TUT_RESTORATION') or StatusId('ALCH_POTION_REST_SLEEP_GREATER_RESTORATION') or StatusId('ALCH_POTION_REST_SLEEP_LESSER_RESTORATION')"
data "StatsFunctors" "RestoreResource(FrostRune,100%,0);RestoreResource(BloodRune,100%,0);RestoreResource(UnholyRune,100%,0);"

new entry "RuneCastingTutorialFix"
type "PassiveData"
data "DisplayName" "ha0bc63c4g7f19g4cd2gbfe2g5ac7a3c167a1"
data "Description" "h257de8efg1862g487dgbfd3gd6d00997e5d2"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnHealed"
data "Conditions" "not Combat() and not SpellId('Target_DeathStrike') and not SpellId('Target_DeathCoil') and not SpellId('Target_CureWounds') and not SpellId('Target_HealingWord') and not SpellId('Shout_HealingRadiance') and not StatusId('POTION_OF_HEALING')"
data "StatsFunctors" "RestoreResource(FrostRune,100%,0);RestoreResource(BloodRune,100%,0);RestoreResource(UnholyRune,100%,0);"
// TODO potions fix?


{{ range $lvl := list 1 2 3 4 5 6 }}
new entry "UnlockedRuneLevel{{$lvl}}"
type "PassiveData"
data "DisplayName" "ha0bc63c4g7f19g4cd2gbfe2g5ac7a3c167a1"
data "Properties" "IsHidden"
data "BoostContext" "OnCreate;OnCast;OnStatusApplied;OnStatusRemoved;OnShortRest;OnLongRest"
data "Boosts" "{{- range $comboRune, $runes := $.DK.RuneCombos -}}
IF({{- range $j, $rune := $runes -}}
{{if not (eq $j 0) }} or {{end}}HasActionResource('{{$rune}}',{{$lvl}},0,false,false,context.Source)
{{- end -}}):ActionResource({{$comboRune}},1,0);
{{- end -}}"
{{ end }}

new entry "Lichborne"
type "PassiveData"
data "DisplayName" "h7ced0382gcf9ag4cb9ga117geaa13d0bcabd"
data "Description" "hd2638eddg73ccg4effgbb1ag62cd837b48cb"
data "Icon" "PassiveFeature_DeathKnight_Lichborne"
data "Properties" "Highlighted"
data "Boosts" "Tag(UNDEAD);StatusImmunity('SG_Poisoned')"


new entry "Shout_RuneTap"
type "SpellData"
data "SpellType" "Shout"
data "DisplayName" "h1e0c9759gd53dg43fbg9f9agd2e3b09a23d0"
data "Description" "hd1e4ba78g33deg446cg9262g11118d6283cd"
data "TargetConditions" "Self()"
data "Icon" "Action_DeathKnight_RuneTap"
data "ContainerSpells" "Shout_RuneTap_BloodFromFrost;Shout_RuneTap_BloodFromUnholy;Shout_RuneTap_FrostFromBlood;Shout_RuneTap_FrostFromUnholy;Shout_RuneTap_UnholyFromBlood;Shout_RuneTap_UnholyFromFrost"
data "CastSound" "Spell_Cast_Healing_FalseLife_L1to3"
data "TargetSound" "Spell_Impact_Healing_FalseLife_L1to3"
data "CastTextEvent" "Cast"
data "SpellAnimation" "414bbf02-2918-4f01-83fb-1ddc7a588d88,,;,,;4156d364-d2c0-4a01-908c-3552f78f434d,,;6f0a29b6-0ae8-4ebf-a1e4-8069c4a6ad16,,;0c5dcc83-fa78-41da-b6a5-440b5ea30936,,;,,;bea988a0-2ec5-40d8-a67e-ffbd7454bc53,,;,,;,,"
data "VerbalIntent" "Utility"
data "SpellStyleGroup" "Class_Intent"
data "SpellFlags" "HasSomaticComponent;IsLinkedSpellContainer"
data "HitAnimationType" "MagicalNonDamage"
data "PrepareEffect" "1162f3ba-ed65-4cd0-9e1f-5882414c0097"
data "CastEffect" "fb2cd1f1-3fb7-4efc-87cc-61f08868f567"
data "UseCosts" "BonusActionPoint:1"

new entry "Shout_RuneTap_Child"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap"
data "SpellContainerID" "Shout_RuneTap"
data "ContainerSpells" ""
data "SpellFlags" "HasSomaticComponent"

new entry "RUNE_TAP"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h7aeca00egfde6g497dgb321g8886905bf704"
data "Description" "hd1e4ba78g33deg446cg9262g11118d6283cd"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "StatusGroups" "SG_RemoveOnRespec"
data "RemoveEvents" "OnStatusApplied"
data "RemoveConditions" "StatusId('SHORT_REST') or StatusId('ALCH_POTION_REST_SLEEP_LESSER_RESTORATION') or StatusId('ALCH_POTION_REST_SLEEP_GREATER_RESTORATION') or StatusId('TUT_RESTORATION')"

new entry "Shout_RuneTap_Blood"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Child"
data "DisplayName" "h7aeca00egfde6g497dgb321g8886905bf704"
data "Description" "ha1981829g37dfg44fag99c6g763bdabd9f34"
data "Icon" "Action_DeathKnight_RuneTap_Blood"
data "SpellProperties" "ApplyStatus(SELF, BLOOD_RUNE, 100, -1)"

new entry "BLOOD_RUNE"
type "StatusData"
data "StatusType" "BOOST"
using "RUNE_TAP"
data "Boosts" "ActionResource(BloodRune,1,0)"

new entry "Shout_RuneTap_BloodFromFrost"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Blood"
data "UseCosts" "BonusActionPoint:1;FrostRune:2"

new entry "Shout_RuneTap_BloodFromUnholy"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Blood"
data "UseCosts" "BonusActionPoint:1;UnholyRune:2"

new entry "Shout_RuneTap_Frost"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Child"
data "DisplayName" "h52f72cc4gbce9g44feg9deag5fb9b647faa9"
data "Description" "hc0a60dbcge472g4760g95c2g4c161c68b0dd"
data "Icon" "Action_DeathKnight_RuneTap_Frost"
data "SpellProperties" "ApplyStatus(SELF, FROST_RUNE, 100, -1)"

new entry "FROST_RUNE"
type "StatusData"
data "StatusType" "BOOST"
using "RUNE_TAP"
data "Boosts" "ActionResource(FrostRune,1,0)"

new entry "Shout_RuneTap_FrostFromBlood"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Frost"
data "UseCosts" "BonusActionPoint:1;BloodRune:2"

new entry "Shout_RuneTap_FrostFromUnholy"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Frost"
data "UseCosts" "BonusActionPoint:1;UnholyRune:2"

new entry "Shout_RuneTap_Unholy"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Child"
data "DisplayName" "hdc14d9dag0a3fg459bga1cegdbfd36137cef"
data "Description" "h7306456ag4e46g4f71g828ag33d178c4f852"
data "Icon" "Action_DeathKnight_RuneTap_Unholy"
data "SpellProperties" "ApplyStatus(SELF, UNHOLY_RUNE, 100, -1)"

new entry "UNHOLY_RUNE"
type "StatusData"
data "StatusType" "BOOST"
using "RUNE_TAP"
data "Boosts" "ActionResource(UnholyRune,1,0)"

new entry "Shout_RuneTap_UnholyFromBlood"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Unholy"
data "UseCosts" "BonusActionPoint:1;BloodRune:2"

new entry "Shout_RuneTap_UnholyFromFrost"
type "SpellData"
data "SpellType" "Shout"
using "Shout_RuneTap_Unholy"
data "UseCosts" "BonusActionPoint:1;FrostRune:2"

new entry "RuneDie"
type "PassiveData"
data "DisplayName" "hf9f56ac2g31b9g44a8ga485gdf09d0a9d948"
data "Description" "hb3be30f8g049bg4b7ega251g3310cc48eada"
data "Icon" "PassiveFeature_DeathKnight_RuneDie"

new entry "RuneDieD6"
type "PassiveData"
using "RuneDie"
data "DescriptionParams" "1d6"

new entry "RuneDieD8"
type "PassiveData"
using "RuneDie"
data "DescriptionParams" "1d8"

new entry "RuneDieD10"
type "PassiveData"
using "RuneDie"
data "DescriptionParams" "1d10"

new entry "WillOfTheNecropolis"
type "PassiveData"
data "DisplayName" "h3c6fb7c5g25d2g4a67g9a35g58eb137f4bb1"
data "Description" "hf65fbb88g1d96g4034ga675g45612b6c7d46"
data "Properties" "Highlighted"
data "Icon" "PassiveFeature_DeathKnight_WillOfTheNecropolis"
data "Boosts" "Advantage(Concentration);Advantage(DeathSavingThrow)"